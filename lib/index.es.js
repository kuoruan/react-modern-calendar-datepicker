import e,{useMemo as t,useRef as n,useEffect as a,useState as r,useLayoutEffect as o}from"react";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||f(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||f(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var y=function(e,t){return Array.from(Array(e).keys()).map((function(e){return{value:e+1,id:"".concat(t,"-").concat(e)}}))},p=function(e,t){return!(!e||!t)&&(e.day===t.day&&e.month===t.month&&e.year===t.year)},g=function(e){return 1===e.toString().length?"0".concat(e):e},v=function(e){return s({},e)},D=function(e,t){var n="NEXT"===t?1:-1,a=e.month+n,r=e.year;return a<1&&(a=12,r-=1),a>12&&(a=1,r+=1),{year:r,month:a,day:1}},b=function(e,t){return Object.prototype.hasOwnProperty.call(e||{},t)},S=function(e){if(Array.isArray(e))return"MUTLI_DATE";if(b(e,"from")&&b(e,"to"))return"RANGE";if(!e||b(e,"year")&&b(e,"month")&&b(e,"day"))return"SINGLE_DATE";throw new TypeError("The passed value is malformed! Please make sure you're using one of the valid value types for date picker.")},C={en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekDays:[{name:"Sunday",short:"S",isWeekend:!0},{name:"Monday",short:"M"},{name:"Tuesday",short:"T"},{name:"Wednesday",short:"W"},{name:"Thursday",short:"T"},{name:"Friday",short:"F"},{name:"Saturday",short:"S",isWeekend:!0}],weekStartingIndex:0,getToday:function(e){return e},toNativeDate:function(e){return new Date(e.year,e.month-1,e.day)},getMonthLength:function(e){return new Date(e.year,e.month,0).getDate()},transformDigit:function(e){return e},nextMonth:"Next Month",previousMonth:"Previous Month",openMonthSelector:"Open Month Selector",openYearSelector:"Open Year Selector",closeMonthSelector:"Close Month Selector",closeYearSelector:"Close Year Selector",from:"from",to:"to",defaultPlaceholder:"Select...",digitSeparator:",",yearLetterSkip:0,isRtl:!1}},N=function(e){return"string"==typeof e?C[e]:e},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en",t="string"==typeof e?N(e):e,n=t.months,a=t.getToday,r=t.toNativeDate,o=t.getMonthLength,i=t.weekStartingIndex,c=t.transformDigit,l=function(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1,r=e.getDate();return a({year:t,month:n,day:r})},u=function(e){return n[e-1]},d=function(e){return n.indexOf(e)+1},m=function(e){return(r(s(s({},e),{},{day:1})).getDay()+i)%7},f=function(e,t){return!(!e||!t)&&r(e)<r(t)},h=function(e){var t=e.day,n=e.from,a=e.to;if(!t||!n||!a)return!1;var o=r(t),i=r(n),c=r(a);return o>i&&o<c};return{getToday:l,getMonthName:u,getMonthNumber:d,getMonthLength:o,getMonthFirstWeekday:m,isBeforeDate:f,checkDayInDayRange:h,getLanguageDigits:c}},w=function(e){return t((function(){return E(e)}),[e])},_=function(e){return t((function(){return N(e)}),[e])},A=function(e){var t=e.parent,n=e.isInitialActiveChild,a=e.activeDate,r=e.monthChangeDirection;if(!t)return n?a:D(a,"NEXT");var o=t.children[n?0:1];return o.classList.contains("-shown")||o.classList.contains("-shownAnimated")?a:D(a,r)},O=function(e){var t=e.parent,n=e.direction,a=Array.from(t.children),r=a.find((function(e){return e.classList.contains("-shown")})),o=a.find((function(e){return e!==r})),i=r.classList[0],c="NEXT"===n,l=function(e){return e?"-hiddenNext":"-hiddenPrevious"};o.style.transition="none",r.style.transition="",r.className="".concat(i," ").concat(l(!c)),o.className="".concat(i," ").concat(l(c)),o.classList.add("-shownAnimated")},k=function(e){var t=e.target;t.classList.remove("-hiddenNext"),t.classList.remove("-hiddenPrevious"),t.classList.replace("-shownAnimated","-shown")},T=function(t){var r=t.maximumDate,o=t.minimumDate,i=t.onMonthChange,l=t.activeDate,u=t.monthChangeDirection,d=t.onMonthSelect,f=t.onYearSelect,h=t.isMonthSelectorOpen,y=t.isYearSelectorOpen,g=t.locale,v=n(null),D=n(null),b=w(g),S=b.getMonthName,C=b.isBeforeDate,N=b.getLanguageDigits,E=_(g),T=E.isRtl,x=E.nextMonth,M=E.previousMonth,L=E.openMonthSelector,I=E.closeMonthSelector,R=E.openYearSelector,P=E.closeYearSelector;a((function(){u&&O({direction:u,parent:D.current})}),[u]),a((function(){var e=h||y,t=v.current.querySelector(".Calendar__monthYear.-shown .Calendar__monthText"),n=t.nextSibling,a=function(e){return e.classList.contains("-activeBackground")};if(!(!e&&!a(t)&&!a(n))){var r=m(v.current.querySelectorAll(".Calendar__monthArrowWrapper")),o=h||a(t),i=o?t:n,c=o?n:t,l=o?1:-1;T&&(l*=-1);var s=e?1:.95,u=e?"".concat(l*c.offsetWidth/2):0;e?c.setAttribute("aria-hidden",!0):c.removeAttribute("aria-hidden"),c.setAttribute("tabindex",e?"-1":"0"),c.style.transform="",i.style.transform="scale(".concat(s,") ").concat(u?"translateX(".concat(u,"px)"):""),i.classList.toggle("-activeBackground"),c.classList.toggle("-hidden"),r.forEach((function(e){var t=e.classList.contains("-hidden");e.classList.toggle("-hidden"),t?(e.removeAttribute("aria-hidden"),e.setAttribute("tabindex","0")):(e.setAttribute("aria-hidden",!0),e.setAttribute("tabindex","-1"))}))}}),[h,y]);var Y=r&&C(r,s(s({},l),{},{month:l.month+1,day:1})),W=o&&(C(s(s({},l),{},{day:1}),o)||p(o,s(s({},l),{},{day:1}))),j=function(e){Array.from(D.current.children).some((function(e){return e.classList.contains("-shownAnimated")}))||i(e)},B=[!0,!1].map((function(t){var n=function(e){var t=A({isInitialActiveChild:e,monthChangeDirection:u,activeDate:l,parent:D.current}),n=N(t.year);return{month:S(t.month),year:n}}(t),a=n.month,r=n.year,o=a===S(l.month),i=s({},o?{}:{"aria-hidden":!0});return e.createElement("div",c({onAnimationEnd:k,className:"Calendar__monthYear ".concat(t?"-shown":"-hiddenNext"),role:"presentation",key:String(t)},i),e.createElement("button",c({onClick:d,type:"button",className:"Calendar__monthText","aria-label":h?I:L,tabIndex:o?"0":"-1"},i),a),e.createElement("button",c({onClick:f,type:"button",className:"Calendar__yearText","aria-label":y?P:R,tabIndex:o?"0":"-1"},i),r))}));return e.createElement("div",{ref:v,className:"Calendar__header"},e.createElement("button",{className:"Calendar__monthArrowWrapper -right",onClick:function(){j("PREVIOUS")},"aria-label":M,type:"button",disabled:W},e.createElement("span",{className:"Calendar__monthArrow"})),e.createElement("div",{className:"Calendar__monthYearContainer",ref:D,"data-testid":"month-year-container"},"Â ",B),e.createElement("button",{className:"Calendar__monthArrowWrapper -left",onClick:function(){j("NEXT")},"aria-label":x,type:"button",disabled:Y},e.createElement("span",{className:"Calendar__monthArrow"})))},x=function(e,t){var n=t.allowVerticalArrows,a=document.activeElement,r=function(e,t){return e?e.children[t]:null},o=function(e){return e&&(e.hasAttribute("aria-hidden")?null:e)},i=a.parentElement,c=i.nextSibling,l=i.previousSibling,s=o(a.nextSibling||r(c,0)),u=l?l.children.length-1:0,d=o(a.previousSibling||r(l,u)),m=function(e){return r(e,Array.from(a.parentElement.children).indexOf(a))},f=o(m(c)),h=o(m(l));"true"===a.dataset.isDefaultSelectable||(a.tabIndex="-1");var y=function(t){e.preventDefault(),t&&(t.setAttribute("tabindex","0"),t.focus())};switch(e.key){case"ArrowRight":y(s);break;case"ArrowLeft":y(d);break;case"ArrowDown":n&&y(f);break;case"ArrowUp":n&&y(h)}},M=function(t){var r=t.activeDate,o=t.maximumDate,i=t.minimumDate,l=t.onMonthSelect,u=t.isOpen,d=t.locale,m=n(null);a((function(){var e=u?"add":"remove";m.current.classList[e]("-open")}),[u]);var f=w(d),h=f.getMonthNumber,y=f.isBeforeDate,g=_(d).months;return e.createElement("div",c({role:"presentation",className:"Calendar__monthSelectorAnimationWrapper"},u?{}:{"aria-hidden":!0}),e.createElement("div",{role:"presentation","data-testid":"month-selector-wrapper",className:"Calendar__monthSelectorWrapper",onKeyDown:function(e){x(e,{allowVerticalArrows:!1})}},e.createElement("ul",{ref:m,className:"Calendar__monthSelector","data-testid":"month-selector"},g.map((function(t){var n=h(t),a={day:1,month:n,year:r.year},c=o&&y(o,s(s({},a),{},{month:n})),d=i&&(y(s(s({},a),{},{month:n+1}),i)||p(s(s({},a),{},{month:n+1}),i)),m=n===r.month;return e.createElement("li",{key:t,className:"Calendar__monthSelectorItem ".concat(m?"-active":"")},e.createElement("button",{tabIndex:m&&u?"0":"-1",onClick:function(){l(n)},className:"Calendar__monthSelectorItemText",type:"button",disabled:c||d,"aria-pressed":m,"data-is-default-selectable":m},t))})))))},L=function(t){for(var r=t.isOpen,o=t.activeDate,i=t.onYearSelect,l=t.selectorStartingYear,s=t.selectorEndingYear,u=t.maximumDate,d=t.minimumDate,m=t.locale,f=n(null),h=n(null),y=w(m),p=y.getLanguageDigits,g=y.getToday,v=l||g().year-100,D=s||g().year+50,b=[],S=v;S<=D;S+=1)b.push(S);a((function(){var e=r?"add":"remove",t=f.current.querySelector(".Calendar__yearSelectorItem.-active");if(!t)throw new RangeError("Provided value for year is out of selectable year range. You're probably using a wrong locale prop value or your provided value's locale is different from the date picker locale. Try changing the 'locale' prop or the value you've provided.");f.current.classList[e]("-faded"),h.current.scrollTop=t.offsetTop-5*t.offsetHeight,h.current.classList[e]("-open")}),[r]);return e.createElement("div",c({className:"Calendar__yearSelectorAnimationWrapper",role:"presentation"},r?{}:{"aria-hidden":!0}),e.createElement("div",{ref:f,className:"Calendar__yearSelectorWrapper",role:"presentation","data-testid":"year-selector-wrapper",onKeyDown:function(e){x(e,{allowVerticalArrows:!1})}},e.createElement("ul",{ref:h,className:"Calendar__yearSelector","data-testid":"year-selector"},b.map((function(t){var n=u&&t>u.year,a=d&&t<d.year,c=o.year===t;return e.createElement("li",{key:t,className:"Calendar__yearSelectorItem ".concat(c?"-active":"")},e.createElement("button",{tabIndex:c&&r?"0":"-1",className:"Calendar__yearSelectorText",type:"button",onClick:function(){i(t)},disabled:n||a,"aria-pressed":c,"data-is-default-selectable":c},p(t)))})))))};L.defaultProps={selectorStartingYear:0,selectorEndingYear:0};var I=function(t){var r=t.activeDate,o=t.value,i=t.monthChangeDirection,l=t.onSlideChange,d=t.disabledDays,f=t.onDisabledDayError,h=t.minimumDate,g=t.maximumDate,v=t.onChange,D=t.locale,b=t.calendarTodayClassName,C=t.calendarSelectedDayClassName,N=t.calendarRangeStartClassName,E=t.calendarRangeEndClassName,T=t.calendarRangeBetweenClassName,M=t.shouldHighlightWeekends,L=t.isQuickSelectorOpen,I=t.customDaysClassName,R=n(null),P=_(D),Y=P.isRtl,W=P.weekDays,j=w(D),B=j.getToday,F=j.isBeforeDate,G=j.checkDayInDayRange,U=j.getMonthFirstWeekday,H=j.getMonthLength,J=j.getLanguageDigits,K=j.getMonthName,V=B();a((function(){i&&O({direction:i,parent:R.current})}),[i]);var X=function(e){var t,n=(t=o,JSON.parse(JSON.stringify(t,(function(e,t){return void 0===t?null:t})))),a=n.from&&n.to?{from:null,to:null}:n,r=a.from?"to":"from";a[r]=e;var i=a.from,c=a.to;F(a.to,a.from)&&(a.from=c,a.to=i);var l=d.find((function(e){return G({day:e,from:a.from,to:a.to})}));return l?(f(l),o):a},q=function(e){var t=function(){switch(S(o)){case"SINGLE_DATE":return e;case"RANGE":return X(e);case"MUTLI_DATE":return function(e){var t=o.some((function(t){return p(t,e)})),n=[].concat(m(o),[e]),a=o.filter((function(t){return!p(t,e)}));return t?a:n}(e)}}();v(t)},Q=function(e){var t,n,a=p(e,V),r=(t=e,"SINGLE_DATE"===(n=S(o))?p(t,o):"MUTLI_DATE"===n?o.some((function(e){return p(e,t)})):void 0),i=o||{},c=i.from,l=i.to;return{isToday:a,isSelected:r,isStartingDayRange:p(e,c),isEndingDayRange:p(e,l),isWithinRange:G({day:e,from:c,to:l})}},$=function(e){var t=e.isDisabled,n=u(e,["isDisabled"]);t?f(n):q(n)},z=function(t,n){var a=t.id,o=t.value,i=t.month,l=t.year,u=t.isStandard,m={day:o,month:i,year:l},f=d.some((function(e){return p(m,e)})),y=F(m,h),v=F(g,m),D=f||u&&(y||v),S=W.some((function(e,t){return e.isWeekend&&t===n})),w=function(e){var t=Q(e),n=t.isToday,a=t.isSelected,r=t.isStartingDayRange,o=t.isEndingDayRange,i=t.isWithinRange,c=I.find((function(t){return p(e,t)}));return"".concat(n&&!a?" -today ".concat(b):"").concat(e.isStandard?"":" -blank").concat(e.isWeekend&&M?" -weekend":"").concat(c?" ".concat(c.className):"").concat(a?" -selected ".concat(C):"").concat(r?" -selectedStart ".concat(N):"").concat(o?" -selectedEnd ".concat(E):"").concat(i?" -selectedBetween ".concat(T):"").concat(e.isDisabled?" -disabled":"")}(s(s({},m),{},{isWeekend:S,isStandard:u,isDisabled:D})),_="".concat(W[n].name,", ").concat(o," ").concat(K(i)," ").concat(l),A=i===r.month,O=Q(m),k=O.isSelected,x=O.isStartingDayRange,R=O.isEndingDayRange,P=O.isWithinRange,j=function(e){var t=e.isOnActiveSlide,n=e.isStandard,a=e.isSelected,r=e.isStartingDayRange,o=e.isToday,i=e.day;return!(L||!t||!n)&&(!!(a||r||o||1===i)||void 0)}(s(s(s({},m),O),{},{isOnActiveSlide:A,isStandard:u}));return e.createElement("div",c({tabIndex:j?"0":"-1",key:a,className:"Calendar__day -".concat(Y?"rtl":"ltr"," ").concat(w),onClick:function(){$(s(s({},m),{},{isDisabled:D}))},onKeyDown:function(e){"Enter"===e.key&&$(s(s({},m),{},{isDisabled:D}))},"aria-disabled":D,"aria-label":_,"aria-selected":k||x||R||P},u&&A&&!L?{}:{"aria-hidden":!0},{role:"gridcell","data-is-default-selectable":j}),u?J(o):"")},Z=function(t){var n=function(e){var t=y(U(e),"starting-blank"),n=y(H(e)).map((function(t){return s(s({},t),{},{isStandard:!0,month:e.month,year:e.year})}));return[].concat(m(t),m(n))}(A({activeDate:r,isInitialActiveChild:t,monthChangeDirection:i,parent:R.current}));return Array.from(Array(6).keys()).map((function(t){var a=n.slice(7*t,7*t+7).map(z);return e.createElement("div",{key:String(t),className:"Calendar__weekRow",role:"row"},a)}))};return e.createElement("div",{ref:R,className:"Calendar__sectionWrapper",role:"presentation","data-testid":"days-section-wrapper",onKeyDown:function(e){x(e,{allowVerticalArrows:!0})}},e.createElement("div",{onAnimationEnd:function(e){k(e),l()},className:"Calendar__section -shown",role:"rowgroup"},Z(!0)),e.createElement("div",{onAnimationEnd:function(e){k(e),l()},className:"Calendar__section -hiddenNext",role:"rowgroup"},Z(!1)))};I.defaultProps={onChange:function(){},onDisabledDayError:function(){},disabledDays:[],calendarTodayClassName:"",calendarSelectedDayClassName:"",calendarRangeStartClassName:"",calendarRangeBetweenClassName:"",calendarRangeEndClassName:"",shouldHighlightWeekends:!1};var R=function(t){var o=t.value,c=t.onChange,l=t.onDisabledDayError,u=t.calendarClassName,m=t.calendarTodayClassName,f=t.calendarSelectedDayClassName,h=t.calendarRangeStartClassName,y=t.calendarRangeBetweenClassName,p=t.calendarRangeEndClassName,g=t.disabledDays,b=t.minimumDate,C=t.maximumDate,N=t.selectorStartingYear,E=t.selectorEndingYear,A=t.locale,O=t.shouldHighlightWeekends,k=t.renderFooter,x=t.customDaysClassName,R=n(null),P=d(r({activeDate:null,monthChangeDirection:"",isMonthSelectorOpen:!1,isYearSelectorOpen:!1}),2),Y=P[0],W=P[1];a((function(){var e=function(e){"Tab"===e.key&&R.current.classList.remove("-noFocusOutline")};return R.current.addEventListener("keyup",e,!1),function(){R.current.removeEventListener("keyup",e,!1)}}));var j,B=w(A).getToday,F=_(A),G=F.weekDays,U=F.isRtl,H=B(),J=function(e){return function(){W(s(s({},Y),{},i({},e,!Y[e])))}},K=J("isMonthSelectorOpen"),V=J("isYearSelectorOpen"),X=Y.activeDate?v(Y.activeDate):"MUTLI_DATE"===(j=S(o))&&o.length?v(o[0]):"SINGLE_DATE"===j&&o?v(o):"RANGE"===j&&o.from?v(o.from):v(H),q=G.map((function(t){return e.createElement("abbr",{key:t.name,title:t.name,className:"Calendar__weekDay"},t.short)}));return e.createElement("div",{className:"Calendar -noFocusOutline ".concat(u," -").concat(U?"rtl":"ltr"),role:"grid",ref:R},e.createElement(T,{maximumDate:C,minimumDate:b,activeDate:X,onMonthChange:function(e){W(s(s({},Y),{},{monthChangeDirection:e}))},onMonthSelect:K,onYearSelect:V,monthChangeDirection:Y.monthChangeDirection,isMonthSelectorOpen:Y.isMonthSelectorOpen,isYearSelectorOpen:Y.isYearSelectorOpen,locale:A}),e.createElement(M,{isOpen:Y.isMonthSelectorOpen,activeDate:X,onMonthSelect:function(e){W(s(s({},Y),{},{activeDate:s(s({},X),{},{month:e}),isMonthSelectorOpen:!1}))},maximumDate:C,minimumDate:b,locale:A}),e.createElement(L,{isOpen:Y.isYearSelectorOpen,activeDate:X,onYearSelect:function(e){W(s(s({},Y),{},{activeDate:s(s({},X),{},{year:e}),isYearSelectorOpen:!1}))},selectorStartingYear:N,selectorEndingYear:E,maximumDate:C,minimumDate:b,locale:A}),e.createElement("div",{className:"Calendar__weekDays"},q),e.createElement(I,{activeDate:X,value:o,monthChangeDirection:Y.monthChangeDirection,onSlideChange:function(){W(s(s({},Y),{},{activeDate:D(X,Y.monthChangeDirection),monthChangeDirection:""}))},disabledDays:g,onDisabledDayError:l,minimumDate:b,maximumDate:C,onChange:c,calendarTodayClassName:m,calendarSelectedDayClassName:f,calendarRangeStartClassName:h,calendarRangeEndClassName:p,calendarRangeBetweenClassName:y,locale:A,shouldHighlightWeekends:O,customDaysClassName:x,isQuickSelectorOpen:Y.isYearSelectorOpen||Y.isMonthSelectorOpen}),e.createElement("div",{className:"Calendar__footer"},k()))};R.defaultProps={minimumDate:null,maximumDate:null,calendarClassName:"",locale:"en",value:null,renderFooter:function(){return null},customDaysClassName:[]};var P=e.forwardRef((function(t,n){var a=t.value,r=t.inputPlaceholder,o=t.inputClassName,i=t.inputId,c=t.inputName,l=t.formatInputText,s=t.renderInput,u=t.locale,d=w(u).getLanguageDigits,m=_(u),f=m.from,h=m.to,y=m.yearLetterSkip,p=m.digitSeparator,v=m.defaultPlaceholder,D=m.isRtl,b=function(){if(l())return l();switch(S(a)){case"SINGLE_DATE":return function(){if(!a)return"";var e=d(a.year),t=d(g(a.month)),n=d(g(a.day));return"".concat(e,"/").concat(t,"/").concat(n)}();case"RANGE":return function(){if(!a.from||!a.to)return"";var e=a.from,t=a.to,n="".concat(d(g(e.year)).toString().slice(y),"/").concat(d(g(e.month)),"/").concat(d(g(e.day))),r="".concat(d(g(t.year)).toString().slice(y),"/").concat(d(g(t.month)),"/").concat(d(g(t.day)));return"".concat(f," ").concat(n," ").concat(h," ").concat(r)}();case"MUTLI_DATE":return a.map((function(e){return d(e.day)})).join("".concat(p," "))}},C=r||v;return s({ref:n})||e.createElement("input",{"data-testid":"datepicker-input",readOnly:!0,ref:n,value:b(),id:i,name:c,placeholder:C,className:"DatePicker__input -".concat(D?"rtl":"ltr"," ").concat(o),"aria-label":C})}));P.defaultProps={formatInputText:function(){return""},renderInput:function(){return null},inputPlaceholder:"",inputClassName:"",inputId:"",inputName:""};var Y=function(t){var i=t.value,c=t.onChange,l=t.formatInputText,s=t.inputPlaceholder,u=t.inputClassName,m=t.inputId,f=t.inputName,h=t.renderInput,y=t.wrapperClassName,p=t.calendarClassName,g=t.calendarTodayClassName,v=t.calendarSelectedDayClassName,D=t.calendarRangeStartClassName,b=t.calendarRangeBetweenClassName,C=t.calendarRangeEndClassName,N=t.calendarPopperPosition,E=t.disabledDays,w=t.onDisabledDayError,_=t.colorPrimary,A=t.colorPrimaryLight,O=t.slideAnimationDuration,k=t.minimumDate,T=t.maximumDate,x=t.selectorStartingYear,M=t.selectorEndingYear,L=t.locale,I=t.shouldHighlightWeekends,Y=t.renderFooter,W=t.customDaysClassName,j=n(null),B=n(null),F=n(!1),G=d(r(!1),2),U=G[0],H=G[1];a((function(){var e=function(){H(!1)};return window.addEventListener("blur",e,!1),function(){window.removeEventListener("blur",e,!1)}}),[]),a((function(){var e=S(i);"MUTLI_DATE"!==e&&(("SINGLE_DATE"===e?!U:!U&&i.from&&i.to)&&B.current.blur())}),[i,U]);o((function(){if(U){var e=j.current.getBoundingClientRect(),t=e.left,n=e.width,a=e.height,r=e.top,o=document.documentElement,i=o.clientWidth,c=o.clientHeight,l=t+n>i,s=t<0,u=r+a>c;j.current.style.left=function(){var e=t+n-i;if(l||s){var a=Math.abs(t),r=s?a:0;return l?"calc(50% - ".concat(e,"px)"):"calc(50% + ".concat(r,"px)")}}(),("auto"===N&&u||"top"===N)&&j.current.classList.add("-top")}}),[U]);return a((function(){!U&&F.current&&(B.current.focus(),F.current=!1)}),[F,U]),e.createElement("div",{onFocus:function(){F.current||H(!0)},onBlur:function(e){if(e.persist(),U){var t=j.current.contains(e.relatedTarget);F.current?(F.current=!1,B.current.focus()):t&&e.relatedTarget?e.relatedTarget.focus():H(!1)}},onKeyUp:function(e){switch(e.key){case"Enter":H(!0);break;case"Escape":H(!1),F.current=!0}},className:"DatePicker ".concat(y),role:"presentation"},e.createElement(P,{ref:B,formatInputText:l,value:i,inputPlaceholder:s,inputClassName:u,renderInput:h,inputId:m,inputName:f,locale:L}),U&&e.createElement(e.Fragment,null,e.createElement("div",{ref:j,className:"DatePicker__calendarContainer","data-testid":"calendar-container",role:"presentation",onMouseDown:function(){F.current=!0}},e.createElement(R,{value:i,onChange:function(e){var t=S(i);c(e),("SINGLE_DATE"===t||"RANGE"===t&&e.from&&e.to)&&H(!1)},calendarClassName:p,calendarTodayClassName:g,calendarSelectedDayClassName:v,calendarRangeStartClassName:D,calendarRangeBetweenClassName:b,calendarRangeEndClassName:C,disabledDays:E,colorPrimary:_,colorPrimaryLight:A,slideAnimationDuration:O,onDisabledDayError:w,minimumDate:k,maximumDate:T,selectorStartingYear:x,selectorEndingYear:M,locale:L,shouldHighlightWeekends:I,renderFooter:Y,customDaysClassName:W})),e.createElement("div",{className:"DatePicker__calendarArrow"})))};Y.defaultProps={wrapperClassName:"",locale:"en",calendarPopperPosition:"auto"};export default Y;export{R as Calendar,E as utils};
