"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react");function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=t(e);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}return a}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return d(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var m=function(e,t){return Array.from(Array(e).keys()).map((function(e){return{value:e+1,id:"".concat(t,"-").concat(e)}}))},f=function(e,t){return!(!e||!t)&&(e.day===t.day&&e.month===t.month&&e.year===t.year)},h=function(e){return 1===e.toString().length?"0".concat(e):e},y=function(e){return i({},e)},p=function(e,t){var a="NEXT"===t?1:-1,n=e.month+a,r=e.year;return n<1&&(n=12,r-=1),n>12&&(n=1,r+=1),{year:r,month:n,day:1}},g=function(e,t){return Object.prototype.hasOwnProperty.call(e||{},t)},v=function(e){if(Array.isArray(e))return"MUTLI_DATE";if(g(e,"from")&&g(e,"to"))return"RANGE";if(!e||g(e,"year")&&g(e,"month")&&g(e,"day"))return"SINGLE_DATE";throw new TypeError("The passed value is malformed! Please make sure you're using one of the valid value types for date picker.")},D={en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekDays:[{name:"Sunday",short:"S",isWeekend:!0},{name:"Monday",short:"M"},{name:"Tuesday",short:"T"},{name:"Wednesday",short:"W"},{name:"Thursday",short:"T"},{name:"Friday",short:"F"},{name:"Saturday",short:"S",isWeekend:!0}],weekStartingIndex:0,getToday:function(e){return e},toNativeDate:function(e){return new Date(e.year,e.month-1,e.day)},getMonthLength:function(e){return new Date(e.year,e.month,0).getDate()},transformDigit:function(e){return e},nextMonth:"Next Month",previousMonth:"Previous Month",openMonthSelector:"Open Month Selector",openYearSelector:"Open Year Selector",closeMonthSelector:"Close Month Selector",closeYearSelector:"Close Year Selector",from:"from",to:"to",defaultPlaceholder:"Select...",digitSeparator:",",yearLetterSkip:0,isRtl:!1}},b=function(e){return"string"==typeof e?D[e]:e},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en",t="string"==typeof e?b(e):e,a=t.months,n=t.getToday,r=t.toNativeDate,o=t.getMonthLength,c=t.weekStartingIndex,l=t.transformDigit,s=function(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1,r=e.getDate();return n({year:t,month:a,day:r})},u=function(e){return a[e-1]},d=function(e){return a.indexOf(e)+1},m=function(e){return(r(i(i({},e),{},{day:1})).getDay()+c)%7},f=function(e,t){return!(!e||!t)&&r(e)<r(t)},h=function(e){var t=e.day,a=e.from,n=e.to;if(!t||!a||!n)return!1;var o=r(t),i=r(a),c=r(n);return o>i&&o<c};return{getToday:s,getMonthName:u,getMonthNumber:d,getMonthLength:o,getMonthFirstWeekday:m,isBeforeDate:f,checkDayInDayRange:h,getLanguageDigits:l}},E=function(t){return e.useMemo((function(){return S(t)}),[t])},C=function(t){return e.useMemo((function(){return b(t)}),[t])},N=function(e){var t=e.parent,a=e.isInitialActiveChild,n=e.activeDate,r=e.monthChangeDirection;if(!t)return a?n:p(n,"NEXT");var o=t.children[a?0:1];return o.classList.contains("-shown")||o.classList.contains("-shownAnimated")?n:p(n,r)},w=function(e){var t=e.parent,a=e.direction,n=Array.from(t.children),r=n.find((function(e){return e.classList.contains("-shown")})),o=n.find((function(e){return e!==r})),i=r.classList[0],c="NEXT"===a,l=function(e){return e?"-hiddenNext":"-hiddenPrevious"};o.style.transition="none",r.style.transition="",r.className="".concat(i," ").concat(l(!c)),o.className="".concat(i," ").concat(l(c)),o.classList.add("-shownAnimated")},_=function(e){var t=e.target;t.classList.remove("-hiddenNext"),t.classList.remove("-hiddenPrevious"),t.classList.replace("-shownAnimated","-shown")},A=function(t){var n=t.maximumDate,o=t.minimumDate,c=t.onMonthChange,l=t.activeDate,u=t.monthChangeDirection,d=t.onMonthSelect,m=t.onYearSelect,h=t.isMonthSelectorOpen,y=t.isYearSelectorOpen,p=t.locale,g=e.useRef(null),v=e.useRef(null),D=E(p),b=D.getMonthName,S=D.isBeforeDate,A=D.getLanguageDigits,O=C(p),k=O.isRtl,T=O.nextMonth,R=O.previousMonth,x=O.openMonthSelector,M=O.closeMonthSelector,L=O.openYearSelector,I=O.closeYearSelector;e.useEffect((function(){u&&w({direction:u,parent:v.current})}),[u]),e.useEffect((function(){var e=h||y,t=g.current.querySelector(".Calendar__monthYear.-shown .Calendar__monthText"),a=t.nextSibling,n=function(e){return e.classList.contains("-activeBackground")};if(!(!e&&!n(t)&&!n(a))){var r=s(g.current.querySelectorAll(".Calendar__monthArrowWrapper")),o=h||n(t),i=o?t:a,c=o?a:t,l=o?1:-1;k&&(l*=-1);var u=e?1:.95,d=e?"".concat(l*c.offsetWidth/2):0;e?c.setAttribute("aria-hidden",!0):c.removeAttribute("aria-hidden"),c.setAttribute("tabindex",e?"-1":"0"),c.style.transform="",i.style.transform="scale(".concat(u,") ").concat(d?"translateX(".concat(d,"px)"):""),i.classList.toggle("-activeBackground"),c.classList.toggle("-hidden"),r.forEach((function(e){var t=e.classList.contains("-hidden");e.classList.toggle("-hidden"),t?(e.removeAttribute("aria-hidden"),e.setAttribute("tabindex","0")):(e.setAttribute("aria-hidden",!0),e.setAttribute("tabindex","-1"))}))}}),[h,y]);var P=n&&S(n,i(i({},l),{},{month:l.month+1,day:1})),Y=o&&(S(i(i({},l),{},{day:1}),o)||f(o,i(i({},l),{},{day:1}))),j=function(e){Array.from(v.current.children).some((function(e){return e.classList.contains("-shownAnimated")}))||c(e)},W=[!0,!1].map((function(e){var t=function(e){var t=N({isInitialActiveChild:e,monthChangeDirection:u,activeDate:l,parent:v.current}),a=A(t.year);return{month:b(t.month),year:a}}(e),n=t.month,o=t.year,c=n===b(l.month),s=i({},c?{}:{"aria-hidden":!0});return a.default.createElement("div",r({onAnimationEnd:_,className:"Calendar__monthYear ".concat(e?"-shown":"-hiddenNext"),role:"presentation",key:String(e)},s),a.default.createElement("button",r({onClick:d,type:"button",className:"Calendar__monthText","aria-label":h?M:x,tabIndex:c?"0":"-1"},s),n),a.default.createElement("button",r({onClick:m,type:"button",className:"Calendar__yearText","aria-label":y?I:L,tabIndex:c?"0":"-1"},s),o))}));return a.default.createElement("div",{ref:g,className:"Calendar__header"},a.default.createElement("button",{className:"Calendar__monthArrowWrapper -right",onClick:function(){j("PREVIOUS")},"aria-label":R,type:"button",disabled:Y},a.default.createElement("span",{className:"Calendar__monthArrow"})),a.default.createElement("div",{className:"Calendar__monthYearContainer",ref:v,"data-testid":"month-year-container"},"Â ",W),a.default.createElement("button",{className:"Calendar__monthArrowWrapper -left",onClick:function(){j("NEXT")},"aria-label":T,type:"button",disabled:P},a.default.createElement("span",{className:"Calendar__monthArrow"})))},O=function(e,t){var a=t.allowVerticalArrows,n=document.activeElement,r=function(e,t){return e?e.children[t]:null},o=function(e){return e&&(e.hasAttribute("aria-hidden")?null:e)},i=n.parentElement,c=i.nextSibling,l=i.previousSibling,s=o(n.nextSibling||r(c,0)),u=l?l.children.length-1:0,d=o(n.previousSibling||r(l,u)),m=function(e){return r(e,Array.from(n.parentElement.children).indexOf(n))},f=o(m(c)),h=o(m(l));"true"===n.dataset.isDefaultSelectable||(n.tabIndex="-1");var y=function(t){e.preventDefault(),t&&(t.setAttribute("tabindex","0"),t.focus())};switch(e.key){case"ArrowRight":y(s);break;case"ArrowLeft":y(d);break;case"ArrowDown":a&&y(f);break;case"ArrowUp":a&&y(h)}},k=function(t){var n=t.activeDate,o=t.maximumDate,c=t.minimumDate,l=t.onMonthSelect,s=t.isOpen,u=t.locale,d=e.useRef(null);e.useEffect((function(){var e=s?"add":"remove";d.current.classList[e]("-open")}),[s]);var m=E(u),h=m.getMonthNumber,y=m.isBeforeDate,p=C(u).months;return a.default.createElement("div",r({role:"presentation",className:"Calendar__monthSelectorAnimationWrapper"},s?{}:{"aria-hidden":!0}),a.default.createElement("div",{role:"presentation","data-testid":"month-selector-wrapper",className:"Calendar__monthSelectorWrapper",onKeyDown:function(e){O(e,{allowVerticalArrows:!1})}},a.default.createElement("ul",{ref:d,className:"Calendar__monthSelector","data-testid":"month-selector"},p.map((function(e){var t=h(e),r={day:1,month:t,year:n.year},u=o&&y(o,i(i({},r),{},{month:t})),d=c&&(y(i(i({},r),{},{month:t+1}),c)||f(i(i({},r),{},{month:t+1}),c)),m=t===n.month;return a.default.createElement("li",{key:e,className:"Calendar__monthSelectorItem ".concat(m?"-active":"")},a.default.createElement("button",{tabIndex:m&&s?"0":"-1",onClick:function(){l(t)},className:"Calendar__monthSelectorItemText",type:"button",disabled:u||d,"aria-pressed":m,"data-is-default-selectable":m},e))})))))},T=function(t){for(var n=t.isOpen,o=t.activeDate,i=t.onYearSelect,c=t.selectorStartingYear,l=t.selectorEndingYear,s=t.maximumDate,u=t.minimumDate,d=t.locale,m=e.useRef(null),f=e.useRef(null),h=E(d),y=h.getLanguageDigits,p=h.getToday,g=c||p().year-100,v=l||p().year+50,D=[],b=g;b<=v;b+=1)D.push(b);e.useEffect((function(){var e=n?"add":"remove",t=m.current.querySelector(".Calendar__yearSelectorItem.-active");if(!t)throw new RangeError("Provided value for year is out of selectable year range. You're probably using a wrong locale prop value or your provided value's locale is different from the date picker locale. Try changing the 'locale' prop or the value you've provided.");m.current.classList[e]("-faded"),f.current.scrollTop=t.offsetTop-5*t.offsetHeight,f.current.classList[e]("-open")}),[n]);return a.default.createElement("div",r({className:"Calendar__yearSelectorAnimationWrapper",role:"presentation"},n?{}:{"aria-hidden":!0}),a.default.createElement("div",{ref:m,className:"Calendar__yearSelectorWrapper",role:"presentation","data-testid":"year-selector-wrapper",onKeyDown:function(e){O(e,{allowVerticalArrows:!1})}},a.default.createElement("ul",{ref:f,className:"Calendar__yearSelector","data-testid":"year-selector"},D.map((function(e){var t=s&&e>s.year,r=u&&e<u.year,c=o.year===e;return a.default.createElement("li",{key:e,className:"Calendar__yearSelectorItem ".concat(c?"-active":"")},a.default.createElement("button",{tabIndex:c&&n?"0":"-1",className:"Calendar__yearSelectorText",type:"button",onClick:function(){i(e)},disabled:t||r,"aria-pressed":c,"data-is-default-selectable":c},y(e)))})))))};T.defaultProps={selectorStartingYear:0,selectorEndingYear:0};var R=function(t){var n=t.activeDate,o=t.value,l=t.monthChangeDirection,u=t.onSlideChange,d=t.disabledDays,h=t.onDisabledDayError,y=t.minimumDate,p=t.maximumDate,g=t.onChange,D=t.locale,b=t.calendarTodayClassName,S=t.calendarSelectedDayClassName,A=t.calendarRangeStartClassName,k=t.calendarRangeEndClassName,T=t.calendarRangeBetweenClassName,R=t.shouldHighlightWeekends,x=t.isQuickSelectorOpen,M=t.customDaysClassName,L=e.useRef(null),I=C(D),P=I.isRtl,Y=I.weekDays,j=E(D),W=j.getToday,B=j.isBeforeDate,F=j.checkDayInDayRange,G=j.getMonthFirstWeekday,U=j.getMonthLength,H=j.getLanguageDigits,J=j.getMonthName,K=W();e.useEffect((function(){l&&w({direction:l,parent:L.current})}),[l]);var V=function(e){var t,a=(t=o,JSON.parse(JSON.stringify(t,(function(e,t){return void 0===t?null:t})))),n=a.from&&a.to?{from:null,to:null}:a,r=n.from?"to":"from";n[r]=e;var i=n.from,c=n.to;B(n.to,n.from)&&(n.from=c,n.to=i);var l=d.find((function(e){return F({day:e,from:n.from,to:n.to})}));return l?(h(l),o):n},X=function(e){var t=function(){switch(v(o)){case"SINGLE_DATE":return e;case"RANGE":return V(e);case"MUTLI_DATE":return function(e){var t=o.some((function(t){return f(t,e)})),a=[].concat(s(o),[e]),n=o.filter((function(t){return!f(t,e)}));return t?n:a}(e)}}();g(t)},q=function(e){var t,a,n=f(e,K),r=(t=e,"SINGLE_DATE"===(a=v(o))?f(t,o):"MUTLI_DATE"===a?o.some((function(e){return f(e,t)})):void 0),i=o||{},c=i.from,l=i.to;return{isToday:n,isSelected:r,isStartingDayRange:f(e,c),isEndingDayRange:f(e,l),isWithinRange:F({day:e,from:c,to:l})}},Q=function(e){var t=e.isDisabled,a=c(e,["isDisabled"]);t?h(a):X(a)},$=function(e,t){var o=e.id,c=e.value,l=e.month,s=e.year,u=e.isStandard,m={day:c,month:l,year:s},h=d.some((function(e){return f(m,e)})),g=B(m,y),v=B(p,m),D=h||u&&(g||v),E=Y.some((function(e,a){return e.isWeekend&&a===t})),C=function(e){var t=q(e),a=t.isToday,n=t.isSelected,r=t.isStartingDayRange,o=t.isEndingDayRange,i=t.isWithinRange,c=M.find((function(t){return f(e,t)}));return"".concat(a&&!n?" -today ".concat(b):"").concat(e.isStandard?"":" -blank").concat(e.isWeekend&&R?" -weekend":"").concat(c?" ".concat(c.className):"").concat(n?" -selected ".concat(S):"").concat(r?" -selectedStart ".concat(A):"").concat(o?" -selectedEnd ".concat(k):"").concat(i?" -selectedBetween ".concat(T):"").concat(e.isDisabled?" -disabled":"")}(i(i({},m),{},{isWeekend:E,isStandard:u,isDisabled:D})),N="".concat(Y[t].name,", ").concat(c," ").concat(J(l)," ").concat(s),w=l===n.month,_=q(m),O=_.isSelected,L=_.isStartingDayRange,I=_.isEndingDayRange,j=_.isWithinRange,W=function(e){var t=e.isOnActiveSlide,a=e.isStandard,n=e.isSelected,r=e.isStartingDayRange,o=e.isToday,i=e.day;return!(x||!t||!a)&&(!!(n||r||o||1===i)||void 0)}(i(i(i({},m),_),{},{isOnActiveSlide:w,isStandard:u}));return a.default.createElement("div",r({tabIndex:W?"0":"-1",key:o,className:"Calendar__day -".concat(P?"rtl":"ltr"," ").concat(C),onClick:function(){Q(i(i({},m),{},{isDisabled:D}))},onKeyDown:function(e){"Enter"===e.key&&Q(i(i({},m),{},{isDisabled:D}))},"aria-disabled":D,"aria-label":N,"aria-selected":O||L||I||j},u&&w&&!x?{}:{"aria-hidden":!0},{role:"gridcell","data-is-default-selectable":W}),u?H(c):"")},z=function(e){var t=function(e){var t=m(G(e),"starting-blank"),a=m(U(e)).map((function(t){return i(i({},t),{},{isStandard:!0,month:e.month,year:e.year})}));return[].concat(s(t),s(a))}(N({activeDate:n,isInitialActiveChild:e,monthChangeDirection:l,parent:L.current}));return Array.from(Array(6).keys()).map((function(e){var n=t.slice(7*e,7*e+7).map($);return a.default.createElement("div",{key:String(e),className:"Calendar__weekRow",role:"row"},n)}))};return a.default.createElement("div",{ref:L,className:"Calendar__sectionWrapper",role:"presentation","data-testid":"days-section-wrapper",onKeyDown:function(e){O(e,{allowVerticalArrows:!0})}},a.default.createElement("div",{onAnimationEnd:function(e){_(e),u()},className:"Calendar__section -shown",role:"rowgroup"},z(!0)),a.default.createElement("div",{onAnimationEnd:function(e){_(e),u()},className:"Calendar__section -hiddenNext",role:"rowgroup"},z(!1)))};R.defaultProps={onChange:function(){},onDisabledDayError:function(){},disabledDays:[],calendarTodayClassName:"",calendarSelectedDayClassName:"",calendarRangeStartClassName:"",calendarRangeBetweenClassName:"",calendarRangeEndClassName:"",shouldHighlightWeekends:!1};var x=function(t){var r=t.value,o=t.onChange,c=t.onDisabledDayError,s=t.calendarClassName,u=t.calendarTodayClassName,d=t.calendarSelectedDayClassName,m=t.calendarRangeStartClassName,f=t.calendarRangeBetweenClassName,h=t.calendarRangeEndClassName,g=t.disabledDays,D=t.minimumDate,b=t.maximumDate,S=t.selectorStartingYear,N=t.selectorEndingYear,w=t.locale,_=t.shouldHighlightWeekends,O=t.renderFooter,x=t.customDaysClassName,M=e.useRef(null),L=l(e.useState({activeDate:null,monthChangeDirection:"",isMonthSelectorOpen:!1,isYearSelectorOpen:!1}),2),I=L[0],P=L[1];e.useEffect((function(){var e=function(e){"Tab"===e.key&&M.current.classList.remove("-noFocusOutline")};return M.current.addEventListener("keyup",e,!1),function(){M.current.removeEventListener("keyup",e,!1)}}));var Y,j=E(w).getToday,W=C(w),B=W.weekDays,F=W.isRtl,G=j(),U=function(e){return function(){P(i(i({},I),{},n({},e,!I[e])))}},H=U("isMonthSelectorOpen"),J=U("isYearSelectorOpen"),K=I.activeDate?y(I.activeDate):"MUTLI_DATE"===(Y=v(r))&&r.length?y(r[0]):"SINGLE_DATE"===Y&&r?y(r):"RANGE"===Y&&r.from?y(r.from):y(G),V=B.map((function(e){return a.default.createElement("abbr",{key:e.name,title:e.name,className:"Calendar__weekDay"},e.short)}));return a.default.createElement("div",{className:"Calendar -noFocusOutline ".concat(s," -").concat(F?"rtl":"ltr"),role:"grid",ref:M},a.default.createElement(A,{maximumDate:b,minimumDate:D,activeDate:K,onMonthChange:function(e){P(i(i({},I),{},{monthChangeDirection:e}))},onMonthSelect:H,onYearSelect:J,monthChangeDirection:I.monthChangeDirection,isMonthSelectorOpen:I.isMonthSelectorOpen,isYearSelectorOpen:I.isYearSelectorOpen,locale:w}),a.default.createElement(k,{isOpen:I.isMonthSelectorOpen,activeDate:K,onMonthSelect:function(e){P(i(i({},I),{},{activeDate:i(i({},K),{},{month:e}),isMonthSelectorOpen:!1}))},maximumDate:b,minimumDate:D,locale:w}),a.default.createElement(T,{isOpen:I.isYearSelectorOpen,activeDate:K,onYearSelect:function(e){P(i(i({},I),{},{activeDate:i(i({},K),{},{year:e}),isYearSelectorOpen:!1}))},selectorStartingYear:S,selectorEndingYear:N,maximumDate:b,minimumDate:D,locale:w}),a.default.createElement("div",{className:"Calendar__weekDays"},V),a.default.createElement(R,{activeDate:K,value:r,monthChangeDirection:I.monthChangeDirection,onSlideChange:function(){P(i(i({},I),{},{activeDate:p(K,I.monthChangeDirection),monthChangeDirection:""}))},disabledDays:g,onDisabledDayError:c,minimumDate:D,maximumDate:b,onChange:o,calendarTodayClassName:u,calendarSelectedDayClassName:d,calendarRangeStartClassName:m,calendarRangeEndClassName:h,calendarRangeBetweenClassName:f,locale:w,shouldHighlightWeekends:_,customDaysClassName:x,isQuickSelectorOpen:I.isYearSelectorOpen||I.isMonthSelectorOpen}),a.default.createElement("div",{className:"Calendar__footer"},O()))};x.defaultProps={minimumDate:null,maximumDate:null,calendarClassName:"",locale:"en",value:null,renderFooter:function(){return null},customDaysClassName:[]};var M=a.default.forwardRef((function(e,t){var n=e.value,r=e.inputPlaceholder,o=e.inputClassName,i=e.inputId,c=e.inputName,l=e.formatInputText,s=e.renderInput,u=e.locale,d=E(u).getLanguageDigits,m=C(u),f=m.from,y=m.to,p=m.yearLetterSkip,g=m.digitSeparator,D=m.defaultPlaceholder,b=m.isRtl,S=function(){if(l())return l();switch(v(n)){case"SINGLE_DATE":return function(){if(!n)return"";var e=d(n.year),t=d(h(n.month)),a=d(h(n.day));return"".concat(e,"/").concat(t,"/").concat(a)}();case"RANGE":return function(){if(!n.from||!n.to)return"";var e=n.from,t=n.to,a="".concat(d(h(e.year)).toString().slice(p),"/").concat(d(h(e.month)),"/").concat(d(h(e.day))),r="".concat(d(h(t.year)).toString().slice(p),"/").concat(d(h(t.month)),"/").concat(d(h(t.day)));return"".concat(f," ").concat(a," ").concat(y," ").concat(r)}();case"MUTLI_DATE":return n.map((function(e){return d(e.day)})).join("".concat(g," "))}},N=r||D;return s({ref:t})||a.default.createElement("input",{"data-testid":"datepicker-input",readOnly:!0,ref:t,value:S(),id:i,name:c,placeholder:N,className:"DatePicker__input -".concat(b?"rtl":"ltr"," ").concat(o),"aria-label":N})}));M.defaultProps={formatInputText:function(){return""},renderInput:function(){return null},inputPlaceholder:"",inputClassName:"",inputId:"",inputName:""};var L=function(t){var n=t.value,r=t.onChange,o=t.formatInputText,i=t.inputPlaceholder,c=t.inputClassName,s=t.inputId,u=t.inputName,d=t.renderInput,m=t.wrapperClassName,f=t.calendarClassName,h=t.calendarTodayClassName,y=t.calendarSelectedDayClassName,p=t.calendarRangeStartClassName,g=t.calendarRangeBetweenClassName,D=t.calendarRangeEndClassName,b=t.calendarPopperPosition,S=t.disabledDays,E=t.onDisabledDayError,C=t.colorPrimary,N=t.colorPrimaryLight,w=t.slideAnimationDuration,_=t.minimumDate,A=t.maximumDate,O=t.selectorStartingYear,k=t.selectorEndingYear,T=t.locale,R=t.shouldHighlightWeekends,L=t.renderFooter,I=t.customDaysClassName,P=e.useRef(null),Y=e.useRef(null),j=e.useRef(!1),W=l(e.useState(!1),2),B=W[0],F=W[1];e.useEffect((function(){var e=function(){F(!1)};return window.addEventListener("blur",e,!1),function(){window.removeEventListener("blur",e,!1)}}),[]),e.useEffect((function(){var e=v(n);"MUTLI_DATE"!==e&&(("SINGLE_DATE"===e?!B:!B&&n.from&&n.to)&&Y.current.blur())}),[n,B]);e.useLayoutEffect((function(){if(B){var e=P.current.getBoundingClientRect(),t=e.left,a=e.width,n=e.height,r=e.top,o=document.documentElement,i=o.clientWidth,c=o.clientHeight,l=t+a>i,s=t<0,u=r+n>c;P.current.style.left=function(){var e=t+a-i;if(l||s){var n=Math.abs(t),r=s?n:0;return l?"calc(50% - ".concat(e,"px)"):"calc(50% + ".concat(r,"px)")}}(),("auto"===b&&u||"top"===b)&&P.current.classList.add("-top")}}),[B]);return e.useEffect((function(){!B&&j.current&&(Y.current.focus(),j.current=!1)}),[j,B]),a.default.createElement("div",{onFocus:function(){j.current||F(!0)},onBlur:function(e){if(e.persist(),B){var t=P.current.contains(e.relatedTarget);j.current?(j.current=!1,Y.current.focus()):t&&e.relatedTarget?e.relatedTarget.focus():F(!1)}},onKeyUp:function(e){switch(e.key){case"Enter":F(!0);break;case"Escape":F(!1),j.current=!0}},className:"DatePicker ".concat(m),role:"presentation"},a.default.createElement(M,{ref:Y,formatInputText:o,value:n,inputPlaceholder:i,inputClassName:c,renderInput:d,inputId:s,inputName:u,locale:T}),B&&a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{ref:P,className:"DatePicker__calendarContainer","data-testid":"calendar-container",role:"presentation",onMouseDown:function(){j.current=!0}},a.default.createElement(x,{value:n,onChange:function(e){var t=v(n);r(e),("SINGLE_DATE"===t||"RANGE"===t&&e.from&&e.to)&&F(!1)},calendarClassName:f,calendarTodayClassName:h,calendarSelectedDayClassName:y,calendarRangeStartClassName:p,calendarRangeBetweenClassName:g,calendarRangeEndClassName:D,disabledDays:S,colorPrimary:C,colorPrimaryLight:N,slideAnimationDuration:w,onDisabledDayError:E,minimumDate:_,maximumDate:A,selectorStartingYear:O,selectorEndingYear:k,locale:T,shouldHighlightWeekends:R,renderFooter:L,customDaysClassName:I})),a.default.createElement("div",{className:"DatePicker__calendarArrow"})))};L.defaultProps={wrapperClassName:"",locale:"en",calendarPopperPosition:"auto"},exports.Calendar=x,exports.default=L,exports.utils=S;
